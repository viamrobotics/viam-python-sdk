<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Viam Python SDK &mdash; Viam Python SDK  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/mystnb.css" type="text/css" />
      <link rel="stylesheet" href="_static/togglebutton.css" type="text/css" />
      <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script>let toggleHintShow = 'Click to show';</script>
        <script>let toggleHintHide = 'Click to hide';</script>
        <script>let toggleOpenOnPrint = 'true';</script>
        <script src="_static/togglebutton.js"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Example usage" href="examples/example.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="#" class="icon icon-home"> Viam Python SDK
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="examples/example.html">Example usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="conduct.html">Code of Conduct</a></li>
<li class="toctree-l1"><a class="reference external" href="https://docs.viam.com">Full Viam Docs</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="autoapi/viam/components/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">viam.components</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="autoapi/viam/services/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">viam.services</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="autoapi/viam/robot/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">viam.robot</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="autoapi/viam/rpc/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">viam.rpc</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="autoapi/viam/proto/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">viam.proto</span></code></a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">Viam Python SDK</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="#" class="icon icon-home"></a> &raquo;</li>
      <li>Viam Python SDK</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/index.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="toctree-wrapper compound">
</div>
<div class="toctree-wrapper compound">
</div>
<section id="viam-python-sdk">
<h1>Viam Python SDK<a class="headerlink" href="#viam-python-sdk" title="Permalink to this heading"></a></h1>
<p><a class="reference external" href="https://python.viam.dev"><img alt="documentation" src="https://img.shields.io/static/v1?label=docs&amp;message=python.viam.dev&amp;color=informational" /></a>
<img alt="build status" src="https://github.com/viamrobotics/python-sdk/actions/workflows/test.yml/badge.svg" />
<a class="reference external" href="https://github.com/viamrobotics/viam-python-sdk/blob/main/LICENSE"><img alt="license" src="https://img.shields.io/badge/license-Apache_2.0-blue" /></a></p>
<section id="in-stability-notice">
<h2>(In)stability Notice<a class="headerlink" href="#in-stability-notice" title="Permalink to this heading"></a></h2>
<blockquote>
<div><p><strong>Warning</strong>
This is an beta release of the Viam Python SDK. Stability is not guaranteed. Breaking changes are likely to occur, and occur often.</p>
</div></blockquote>
</section>
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this heading"></a></h2>
<p>Currently, we have pre-built binaries for macOS (both Intel and Apple Silicon), along with Linux (x86 and aarch64) that you can install via pip</p>
<p><code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">viam-sdk</span></code></p>
<p>If your system is not supported, read further on how to install from source.</p>
<section id="upgrading">
<h3>Upgrading<a class="headerlink" href="#upgrading" title="Permalink to this heading"></a></h3>
<blockquote>
<div><p><strong>Note</strong>
Because the SDK is under active development, we suggest that you upgrade the package frequently.</p>
</div></blockquote>
<p>To upgrade, simply run the <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span></code> command with the <code class="docutils literal notranslate"><span class="pre">-U</span></code> option:
<code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">-U</span> <span class="pre">viam-sdk</span></code></p>
</section>
<section id="installing-from-source">
<h3>Installing from Source<a class="headerlink" href="#installing-from-source" title="Permalink to this heading"></a></h3>
<p>The Viam Python SDK uses native libraries to support communication over WebRTC, which will allow you to connect to robots that are not on the same network. In order to facilitate that communication, there is a <a class="reference external" href="https://github.com/viamrobotics/viam-rust-sdk">Rust SDK</a> that contains the necessary protocols. Therefore, to build from source, you will need both the Rust SDK and the Rust compiler.</p>
<ol class="arabic simple">
<li><p>Download/clone this repository</p></li>
<li><p>Download/clone the <a class="reference external" href="https://github.com/viamrobotics/viam-rust-sdk">Rust SDK</a></p></li>
<li><p><a class="reference external" href="https://www.rust-lang.org/tools/install">Install Rust</a> if not already available</p></li>
<li><p>From the <code class="docutils literal notranslate"><span class="pre">viam-rust-sdk</span></code> directory, run <code class="docutils literal notranslate"><span class="pre">cargo</span> <span class="pre">build</span></code></p>
<ul class="simple">
<li><p>You can optionally provide the <code class="docutils literal notranslate"><span class="pre">--release</span></code> flag: <code class="docutils literal notranslate"><span class="pre">cargo</span> <span class="pre">build</span> <span class="pre">--release</span></code></p></li>
</ul>
</li>
<li><p>Find the compiled library in <code class="docutils literal notranslate"><span class="pre">viam-rust-sdk/target/debug/libviam.*</span></code></p>
<ul class="simple">
<li><p>If you provided the <code class="docutils literal notranslate"><span class="pre">--release</span></code> flag, the enclosing directory will be <code class="docutils literal notranslate"><span class="pre">release</span></code>: <code class="docutils literal notranslate"><span class="pre">viam-rust-sdk/target/release/libviam.*</span></code></p></li>
<li><p>The extension of the executable will depend on your operating system. For example, on macOS it will be <code class="docutils literal notranslate"><span class="pre">libviam.dylib</span></code>, whereas on Linux it will be <code class="docutils literal notranslate"><span class="pre">libviam.so</span></code></p></li>
</ul>
</li>
<li><p>Copy the compiled library to the directory <code class="docutils literal notranslate"><span class="pre">viam-python-sdk/src/viam/rpc/</span></code></p></li>
<li><p>From the <code class="docutils literal notranslate"><span class="pre">viam-python-sdk</span></code> directory, run <code class="docutils literal notranslate"><span class="pre">poetry</span> <span class="pre">build</span></code> to create an installable package</p></li>
<li><p>Find the newly created installable package located in <code class="docutils literal notranslate"><span class="pre">viam-python-sdk/dist/</span></code> and pip install it directly, e.g.: <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">viam-python-sdk/dist/viam_sdk-0.1.0-py3-none-any.whl</span></code></p></li>
</ol>
<p>If you do <strong>NOT</strong> need communication over WebRTC (and thus, do not need the native library), the steps are:</p>
<ol class="arabic simple">
<li><p>Download/clone this repository</p></li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">poetry</span> <span class="pre">build</span></code> from the <code class="docutils literal notranslate"><span class="pre">viam-python-sdk</span></code> directory</p></li>
<li><p>Find the newly created installable package located in <code class="docutils literal notranslate"><span class="pre">viam-python-sdk/dist/</span></code> and pip install it directly, e.g.: <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">viam-python-sdk/dist/viam_sdk-0.1.0-py3-none-any.whl</span></code></p></li>
<li><p>Ensure that every connection has the option <code class="docutils literal notranslate"><span class="pre">disable_webrtc</span></code> set to <code class="docutils literal notranslate"><span class="pre">True</span></code>: <code class="docutils literal notranslate"><span class="pre">viam.rpc.dial.DialOptions(disable_webrtc=True)</span></code></p>
<ul class="simple">
<li><p>For more information about connecting to a robot, see the <a class="reference external" href="https://python.viam.dev">documentation</a> and <a class="reference external" href="https://python.viam.dev/examples/example.html">example usage</a></p></li>
</ul>
</li>
</ol>
</section>
</section>
<section id="configure-a-client-application-at-app-viam-com">
<h2>Configure a client application at <a class="reference external" href="https://app.viam.com">app.viam.com</a><a class="headerlink" href="#configure-a-client-application-at-app-viam-com" title="Permalink to this heading"></a></h2>
<p>Your client application does not directly interact with your hardware. Instead, your client application makes calls to the viam-server which can then issues commands to your hardware or read from sensors.</p>
<p>To create a client application, to navigate to <a class="reference external" href="https://app.viam.com">app.viam.com</a>. After you log in, perform these steps:</p>
<ol class="arabic">
<li><p>Create a location (for example <code class="docutils literal notranslate"><span class="pre">home</span></code>)</p></li>
<li><p>Create a robot (for example <code class="docutils literal notranslate"><span class="pre">arduino</span></code>)</p></li>
<li><p>Follow the steps on the setup tab:</p>
<ol class="arabic">
<li><p>Setup Viam App Config on Single Board Computer (SBC)</p></li>
<li><p>Download and Install Viam Server</p></li>
<li><p>Wait until the robot shows as connected. If this doesn’t happen try restarting the viam-server:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">systemctl</span> <span class="n">restart</span> <span class="n">viam</span><span class="o">-</span><span class="n">server</span>
</pre></div>
</div>
</li>
</ol>
</li>
</ol>
<p>Next, select the <code class="docutils literal notranslate"><span class="pre">CONNECT</span></code> tab in the Viam Web UI, and copy the boilerplate code from the section labeled <code class="docutils literal notranslate"><span class="pre">Python</span> <span class="pre">SDK</span></code>.</p>
<p>To ensure the installation succeeded and the systems are functional, save and run this simple program. If the program runs successfully, the python-sdk is properly installed, the <code class="docutils literal notranslate"><span class="pre">viam-server</span></code> instance on your robot is alive, and the computer running the program is able to connect to that instance.</p>
<blockquote>
<div><p><strong>Note</strong>
Connecting to the viam-server can be done using either WebRTC (default) or direct connection. Currently, connecting over WebRTC is guaranteed on the local network. WebRTC for remote connections, however, is not guaranteed and may fail indeterminately.</p>
</div></blockquote>
</section>
<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this heading"></a></h2>
<p>Read the <a class="reference external" href="https://python.viam.dev/examples/example.html">Example Usage</a> page, to learn how to access a component, build a custom component, and expose
custom components as a remote to existing robots.</p>
<p>More examples can be found in the <span class="xref myst"><code class="docutils literal notranslate"><span class="pre">examples</span></code></span> directory.</p>
</section>
<section id="the-do-method">
<h2>The <code class="docutils literal notranslate"><span class="pre">do</span></code> method<a class="headerlink" href="#the-do-method" title="Permalink to this heading"></a></h2>
<p>Every component provided by the SDK includes a generic <code class="docutils literal notranslate"><span class="pre">do</span></code> method which is useful to execute commands that are not already defined on the component.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">async</span> <span class="k">def</span> <span class="nf">do</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">command</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
</pre></div>
</div>
<p>If this is not generic enough, you can also create your own custom component by subclassing the <a class="reference external" href="https://python.viam.dev/autoapi/viam/components/generic/index.html"><code class="docutils literal notranslate"><span class="pre">viam.components.generic.Generic</span></code></a> component
class. For more details, you can view the documentation for the <a class="reference external" href="https://python.viam.dev/autoapi/viam/components/generic/index.html"><code class="docutils literal notranslate"><span class="pre">Generic</span></code></a> component.</p>
</section>
<section id="documentation">
<h2>Documentation<a class="headerlink" href="#documentation" title="Permalink to this heading"></a></h2>
<p>Documentation, like this entire project, is under active development, and can be found at <a class="reference external" href="https://python.viam.dev">python.viam.dev</a>.</p>
</section>
<hr class="docutils" />
<section id="development">
<h2>Development<a class="headerlink" href="#development" title="Permalink to this heading"></a></h2>
<p>To contribute to the python SDK, please see the <a class="reference external" href="https://python.viam.dev/contributing.html">contribution guidelines</a>.</p>
<section id="adding-new-component-types">
<h3>Adding new component types<a class="headerlink" href="#adding-new-component-types" title="Permalink to this heading"></a></h3>
<p>The SDK provides a number of abstract base components. To add more abstract base components, follow these steps:</p>
<ol class="arabic simple">
<li><p>Create a new directory in <code class="docutils literal notranslate"><span class="pre">viam.components</span></code> with the name of the new component</p></li>
<li><p>Create 3 new files in the newly created directory:</p>
<ol class="arabic simple">
<li><p>Add all imports for the package in <code class="docutils literal notranslate"><span class="pre">__init__.py</span></code></p></li>
<li><p>Define all requirements of the component in <code class="docutils literal notranslate"><span class="pre">{COMPONENT}.py</span></code></p></li>
<li><p>Implement the gRPC service for the new component in <code class="docutils literal notranslate"><span class="pre">service.py</span></code></p></li>
</ol>
</li>
<li><p>Add the new service to <a class="reference external" href="https://python.viam.dev/autoapi/viam/rpc/server/index.html"><code class="docutils literal notranslate"><span class="pre">viam.rpc.server</span></code></a> to expose the gRPC service</p></li>
<li><p>If the component needs to be included in the robot/status service, add it in <a class="reference external" href="https://python.viam.dev/autoapi/viam/robot/service/index.html"><code class="docutils literal notranslate"><span class="pre">viam.robot.service</span></code></a></p></li>
<li><p>Write tests for the new component and add the component to <code class="docutils literal notranslate"><span class="pre">tests.mocks.components</span></code></p></li>
<li><p>Add the component to <code class="docutils literal notranslate"><span class="pre">examples.server.v1.components</span></code> and its corresponding concrete type in <code class="docutils literal notranslate"><span class="pre">examples.server.v1.server</span></code></p></li>
</ol>
</section>
</section>
<section id="license">
<h2>License<a class="headerlink" href="#license" title="Permalink to this heading"></a></h2>
<p>Copyright 2021-2022 Viam Inc.</p>
<p>Apache 2.0 - See <a class="reference external" href="https://github.com/viamrobotics/viam-python-sdk/blob/main/LICENSE">LICENSE</a> file</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="examples/example.html" class="btn btn-neutral float-right" title="Example usage" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Viam Inc.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>