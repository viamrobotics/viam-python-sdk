<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Viam Python SDK &mdash; Viam Python SDK  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
      <link rel="stylesheet" type="text/css" href="_static/graphviz.css?v=eafc0fe6" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js?v=b3ba4146"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Example usage" href="examples/example.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="#" class="icon icon-home">
            Viam Python SDK
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="examples/example.html">Example usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="conduct.html">Code of Conduct</a></li>
<li class="toctree-l1"><a class="reference external" href="https://docs.viam.com">Full Viam Docs</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="autoapi/viam/components/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">viam.components</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="autoapi/viam/services/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">viam.services</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="autoapi/viam/robot/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">viam.robot</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="autoapi/viam/app/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">viam.app</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="autoapi/viam/resource/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">viam.resource</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="autoapi/viam/module/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">viam.module</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="autoapi/viam/media/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">viam.media</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="autoapi/viam/rpc/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">viam.rpc</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="autoapi/viam/proto/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">viam.proto</span></code></a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">Viam Python SDK</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="#" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Viam Python SDK</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/index.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="toctree-wrapper compound">
</div>
<div class="toctree-wrapper compound">
</div>
<section id="viam-python-sdk">
<h1>Viam Python SDK<a class="headerlink" href="#viam-python-sdk" title="Permalink to this heading"></a></h1>
<p><img alt="PyPI" src="https://img.shields.io/pypi/v/viam-sdk" />
<img alt="PyPI - Python Version" src="https://img.shields.io/pypi/pyversions/viam-sdk" />
<a class="reference external" href="https://python.viam.dev"><img alt="documentation" src="https://img.shields.io/static/v1?label=docs&amp;message=python.viam.dev&amp;color=lightgray" /></a>
<img alt="build status" src="https://github.com/viamrobotics/python-sdk/actions/workflows/test.yml/badge.svg" />
<a class="reference external" href="https://github.com/viamrobotics/viam-python-sdk/blob/main/LICENSE"><img alt="license" src="https://img.shields.io/badge/license-Apache_2.0-blue" /></a></p>
<p>The Viam Python SDK allows you to build robots, access existing Viam robots, and manage your fleet of Viam robots.</p>
<p>If you would like a blueprint on setting up a Python environment with Viam from scratch, you can follow our <a class="reference external" href="https://python.viam.dev/setup.html">Setup</a> guide.</p>
<p>If you would like to develop and contribute to Viam’s Python SDK, take a look at the <a class="reference internal" href="#development"><span class="xref myst">Development</span></a> portion of the README.</p>
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this heading"></a></h2>
<p>Currently, we have pre-built binaries for macOS (both Intel <code class="docutils literal notranslate"><span class="pre">x86_64</span></code> and Apple Silicon) and Linux (<code class="docutils literal notranslate"><span class="pre">x86</span></code>, <code class="docutils literal notranslate"><span class="pre">aarch64</span></code>, <code class="docutils literal notranslate"><span class="pre">armv6l</span></code>) that you can install using <code class="docutils literal notranslate"><span class="pre">pip</span></code>:</p>
<p><code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">viam-sdk</span></code></p>
<p>If you intend to use the <a class="reference external" href="https://python.viam.dev/autoapi/viam/services/mlmodel/mlmodel/index.html#viam.services.mlmodel.mlmodel.MLModel"><code class="docutils literal notranslate"><span class="pre">MLModel</span></code> service</a>, use the following command instead, which installs additional required dependencies:</p>
<p><code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">'viam-sdk[mlmodel]'</span></code></p>
<p>You can also run this command on an existing Python SDK install to add support for the ML model service.
See the <a class="reference external" href="https://docs.viam.com/ml/">ML (machine learning) model service</a> documentation for more information.</p>
<p>Windows is not supported. If you are using Windows, install <code class="docutils literal notranslate"><span class="pre">viam-sdk</span></code> in WSL. For other unsupported systems, read further on how to install from source.</p>
<section id="upgrading">
<h3>Upgrading<a class="headerlink" href="#upgrading" title="Permalink to this heading"></a></h3>
<p>To upgrade, simply run the <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span></code> command with the <code class="docutils literal notranslate"><span class="pre">-U</span></code> option:
<code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">-U</span> <span class="pre">viam-sdk</span></code></p>
</section>
<section id="installing-from-source">
<h3>Installing from Source<a class="headerlink" href="#installing-from-source" title="Permalink to this heading"></a></h3>
<p>The Viam Python SDK uses native libraries to support communication over WebRTC, which will allow you to connect to robots that are not on the same network. In order to facilitate that communication, there is a <a class="reference external" href="https://github.com/viamrobotics/rust-utils">rust-utils repo</a> that contains the necessary protocols. Therefore, to build from source, you will need both the Rust utils and the Rust compiler.</p>
<ol class="arabic simple">
<li><p>Download/clone this <a class="reference external" href="https://github.com/viamrobotics/viam-python-sdk">repository</a></p></li>
<li><p>Download/clone the <a class="reference external" href="https://github.com/viamrobotics/rust-utils">rust-utils</a></p></li>
<li><p><a class="reference external" href="https://www.rust-lang.org/tools/install">Install Rust</a> if not already available</p></li>
<li><p>From the <code class="docutils literal notranslate"><span class="pre">rust-utils</span></code> directory, run <code class="docutils literal notranslate"><span class="pre">cargo</span> <span class="pre">build</span></code></p>
<ul class="simple">
<li><p>You can optionally provide the <code class="docutils literal notranslate"><span class="pre">--release</span></code> flag: <code class="docutils literal notranslate"><span class="pre">cargo</span> <span class="pre">build</span> <span class="pre">--release</span></code></p></li>
</ul>
</li>
<li><p>Find the compiled library in <code class="docutils literal notranslate"><span class="pre">rust-utils/target/debug/libviam_rust_utils.*</span></code></p>
<ul class="simple">
<li><p>If you provided the <code class="docutils literal notranslate"><span class="pre">--release</span></code> flag, the enclosing directory will be <code class="docutils literal notranslate"><span class="pre">release</span></code>: <code class="docutils literal notranslate"><span class="pre">rust-utils/target/release/libviam_rust_utils.*</span></code></p></li>
<li><p>The extension of the executable will depend on your operating system. For example, on macOS it will be <code class="docutils literal notranslate"><span class="pre">libviam_rust_utils.dylib</span></code>, whereas on Linux it will be <code class="docutils literal notranslate"><span class="pre">libviam_rust_utils.so</span></code></p></li>
</ul>
</li>
<li><p>Copy the compiled library to the directory <code class="docutils literal notranslate"><span class="pre">viam-python-sdk/src/viam/rpc/</span></code></p></li>
<li><p>From the <code class="docutils literal notranslate"><span class="pre">viam-python-sdk</span></code> directory, run <code class="docutils literal notranslate"><span class="pre">poetry</span> <span class="pre">build</span></code> to create an installable package</p></li>
<li><p>Find the newly created installable package located in <code class="docutils literal notranslate"><span class="pre">viam-python-sdk/dist/</span></code> and pip install it directly, e.g.: <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">viam-python-sdk/dist/viam_sdk-0.1.0-py3-none-any.whl</span></code></p></li>
</ol>
<p>If you have a macOS or Linux based operating system and do not want to build rust-utils manually, you can also look for the executable in the <a class="reference external" href="https://github.com/viamrobotics/rust-utils/releases/latest">releases</a> page of the rust-utils library.</p>
<p>If you do <strong>NOT</strong> need communication over WebRTC (and thus, do not need the native library), the steps are:</p>
<ol class="arabic simple">
<li><p>Download/clone this repository</p></li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">poetry</span> <span class="pre">build</span></code> from the <code class="docutils literal notranslate"><span class="pre">viam-python-sdk</span></code> directory</p></li>
<li><p>Find the newly created installable package located in <code class="docutils literal notranslate"><span class="pre">viam-python-sdk/dist/</span></code> and pip install it directly, e.g.: <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">viam-python-sdk/dist/viam_sdk-0.1.0-py3-none-any.whl</span></code></p></li>
<li><p>Ensure that every connection has the option <code class="docutils literal notranslate"><span class="pre">disable_webrtc</span></code> set to <code class="docutils literal notranslate"><span class="pre">True</span></code>: <code class="docutils literal notranslate"><span class="pre">viam.rpc.dial.DialOptions(disable_webrtc=True)</span></code></p>
<ul class="simple">
<li><p>For more information about connecting to a robot, see the <a class="reference external" href="https://python.viam.dev">documentation</a> and <a class="reference external" href="https://python.viam.dev/examples/example.html">example usage</a></p></li>
</ul>
</li>
</ol>
</section>
</section>
<section id="configure-a-client-application-at-app-viam-com">
<h2>Configure a client application at <a class="reference external" href="https://app.viam.com">app.viam.com</a><a class="headerlink" href="#configure-a-client-application-at-app-viam-com" title="Permalink to this heading"></a></h2>
<p>Your client application does not directly interact with your hardware. Instead, your client application makes calls to the <code class="docutils literal notranslate"><span class="pre">viam-server</span></code> which can then issue commands to your hardware or read from sensors.</p>
<p>To create a client application, to navigate to <a class="reference external" href="https://app.viam.com">app.viam.com</a>. After you log in, perform these steps:</p>
<ol class="arabic">
<li><p>Create a location (for example <code class="docutils literal notranslate"><span class="pre">home</span></code>)</p></li>
<li><p>Create a robot (for example <code class="docutils literal notranslate"><span class="pre">arduino</span></code>)</p></li>
<li><p>Follow the steps on the setup tab:</p>
<ol class="arabic">
<li><p>Setup Viam App Config on Single Board Computer (SBC)</p></li>
<li><p>Download and Install Viam Server</p></li>
<li><p>Wait until the robot shows as connected. If this doesn’t happen try restarting the viam-server:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">systemctl</span> <span class="n">restart</span> <span class="n">viam</span><span class="o">-</span><span class="n">server</span>
</pre></div>
</div>
</li>
</ol>
</li>
</ol>
<p>Next, select the <code class="docutils literal notranslate"><span class="pre">CODE</span> <span class="pre">SAMPLE</span></code> tab in the Viam Web UI, and copy the boilerplate code from the section labeled <code class="docutils literal notranslate"><span class="pre">Python</span> <span class="pre">SDK</span></code>.</p>
<p>To ensure the installation succeeded and the systems are functional, save and run this simple program. If the program runs successfully, the python-sdk is properly installed, the <code class="docutils literal notranslate"><span class="pre">viam-server</span></code> instance on your robot is alive, and the computer running the program is able to connect to that instance.</p>
</section>
<section id="the-robotclient-connectivity">
<h2>The <code class="docutils literal notranslate"><span class="pre">RobotClient</span></code> &amp; connectivity<a class="headerlink" href="#the-robotclient-connectivity" title="Permalink to this heading"></a></h2>
<p>The main entry point for using the SDK as a client is the <code class="docutils literal notranslate"><span class="pre">RobotClient</span></code> class. This class can manage resources, operations, frames, etc., for the robot. It can also manage connectivity and behavior around sessions and reconnection through the <code class="docutils literal notranslate"><span class="pre">RobotClient.Options</span></code> nested class.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">RobotClient</span></code> will attempt to refresh its resources at a set interval (customizable via <code class="docutils literal notranslate"><span class="pre">Options</span></code>).</p>
<p>In the event that connection is lost to the robot, the <code class="docutils literal notranslate"><span class="pre">RobotClient</span></code> will attempt to reconnect at a set interval. There are two options available for customizing this behavior: how often the client checks the connection status (<code class="docutils literal notranslate"><span class="pre">RobotClient.Options.check_connection_interval</span></code>), and how often the client attempts to reconnect upon detecting a loss of connection (<code class="docutils literal notranslate"><span class="pre">RobotClient.Options.attempt_reconnect_interval</span></code>).</p>
<p>Upon a loss of connection, outstanding requests are <strong>NOT</strong> terminated and can possibly error with a <code class="docutils literal notranslate"><span class="pre">GRPCError</span></code> whose status is <code class="docutils literal notranslate"><span class="pre">DEADLINE_EXCEEDED</span></code>. When connection is restored, existing built-in clients will automatically receive the new connection - no need to re-obtain the client. Tasks initiated by Viam will automatically resume, but any user-defined tasks that depend on the connection should be checked and potentially restarted.</p>
<p>The Viam Python SDK utilizes gRPC and, optionally WebRTC (defaults to on). gRPC is provided purely in python, but WebRTC is provided by the external <a class="reference external" href="https://github.com/viamrobotics/rust-utils">viam Rust utils</a> library. WebRTC settings can be changed using the appropriate attributes in <code class="docutils literal notranslate"><span class="pre">viam.rpc.dial.DialOptions</span></code>. These options can be passed to the <code class="docutils literal notranslate"><span class="pre">RobotClient</span></code> through <code class="docutils literal notranslate"><span class="pre">RobotClient.Options.dial_options</span></code>.</p>
<section id="sessions">
<h3>Sessions<a class="headerlink" href="#sessions" title="Permalink to this heading"></a></h3>
<p>Sessions are a safety feature that automatically cancel operations made by the python client if it loses connection to a robot. Sessions are enabled by default but can be disabled by setting <code class="docutils literal notranslate"><span class="pre">RobotClient.Options.disable_sessions</span> <span class="pre">=</span> <span class="pre">True</span></code>. Please see the <a class="reference external" href="https://pkg.go.dev/go.viam.com/rdk/session">RDK session documentation</a> for more details and server-side configuration options.</p>
</section>
</section>
<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this heading"></a></h2>
<p>Read the <a class="reference external" href="https://python.viam.dev/examples/example.html">Example Usage</a> page, to learn how to access a component, build a custom component, and expose
custom components as a remote to existing robots.</p>
<p>More examples can be found in the <a class="reference internal" href="#/examples"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">examples</span></code></span></a> directory.</p>
</section>
<section id="documentation">
<h2>Documentation<a class="headerlink" href="#documentation" title="Permalink to this heading"></a></h2>
<p>Documentation, like this entire project, is under active development, and can be found at <a class="reference external" href="https://python.viam.dev">python.viam.dev</a>.</p>
</section>
<hr class="docutils" />
<section id="development">
<h2>Development<a class="headerlink" href="#development" title="Permalink to this heading"></a></h2>
<p>To contribute to the python SDK, please see the <a class="reference external" href="https://python.viam.dev/contributing.html">contribution guidelines</a>.</p>
<section id="adding-new-resource-types">
<h3>Adding new resource types<a class="headerlink" href="#adding-new-resource-types" title="Permalink to this heading"></a></h3>
<p>The SDK provides a number of abstract base components and services (collectively: resources). To add more abstract resources, follow these steps:</p>
<ol class="arabic simple">
<li><p>Create a new directory in <code class="docutils literal notranslate"><span class="pre">viam.components</span></code> or <code class="docutils literal notranslate"><span class="pre">viam.services</span></code> with the name of the new component</p></li>
<li><p>Create 4 new files in the newly created directory:</p>
<ol class="arabic simple">
<li><p>Define all requirements of the resource in <code class="docutils literal notranslate"><span class="pre">{RESOURCE_NAME}.py</span></code></p></li>
<li><p>Implement the gRPC service for the new resource in <code class="docutils literal notranslate"><span class="pre">service.py</span></code></p></li>
<li><p>Create a gRPC client for the new resource in <code class="docutils literal notranslate"><span class="pre">client.py</span></code></p></li>
<li><p>Register the subtype and define package exports in <code class="docutils literal notranslate"><span class="pre">__init__.py</span></code></p></li>
</ol>
</li>
<li><p>Write tests for the new resource and add the resource to <code class="docutils literal notranslate"><span class="pre">tests.mocks.{components|services}</span></code></p></li>
<li><p>If the resource is a component, add the component to <code class="docutils literal notranslate"><span class="pre">examples.server.v1.components</span></code> and its corresponding concrete type in <code class="docutils literal notranslate"><span class="pre">examples.server.v1.server</span></code></p></li>
</ol>
</section>
</section>
<section id="license">
<h2>License<a class="headerlink" href="#license" title="Permalink to this heading"></a></h2>
<p>Copyright 2021-2023 Viam Inc.</p>
<p>Apache 2.0 - See <a class="reference external" href="https://github.com/viamrobotics/viam-python-sdk/blob/main/LICENSE">LICENSE</a> file</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="examples/example.html" class="btn btn-neutral float-right" title="Example usage" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022-2023, Viam Inc.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>