:py:mod:`viam.services.motion`
==============================

.. py:module:: viam.services.motion


Module Contents
---------------

Classes
~~~~~~~

.. autoapisummary::

   viam.services.motion.MotionServiceClient




.. py:class:: MotionServiceClient(name: str, channel: grpclib.client.Channel)



   Motion is a Viam service that coordinates motion planning across all of the components in a given robot.

   The motion planning service calculates a valid path that avoids self collision by default. If additional constraints are supplied in the
   ``world_state`` message, the motion planning service will also account for those.

   .. py:attribute:: SERVICE_TYPE
      :annotation: = motion

      

   .. py:method:: move(component_name: viam.proto.common.ResourceName, destination: viam.proto.common.PoseInFrame, world_state: Optional[viam.proto.common.WorldState] = None, *, extra: Optional[Mapping[str, Any]] = None, timeout: Optional[float] = None) -> bool
      :async:

      Plan and execute a movement to move the component specified to its goal destination.

      Note: Frames designated with respect to components can also be used as the ``component_name`` when calling for a move. This
      technique allows for planning and moving the frame itself to the ``destination``. To do so, simply override the ``name`` attribute
      for a given resource with the originating ReferenceFrame. Then pass in the updated resource into the ``component_name``. Ex::

          resource = Arm.get_resource_name("arm")
          resource.name = "externalFrame"
          success = await MotionServiceClient.move(resource, ...)

      :param component_name: Name of a component on a given robot.
      :type component_name: ResourceName
      :param destination: The destination to move to, expressed as a ``Pose`` and the frame in which it was observed.
      :type destination: PoseInFrame
      :param world_state: When supplied, the motion service will create a plan that obeys any contraints expressed in the
                          WorldState message.
      :type world_state: WorldState

      :returns: Whether the move was successful
      :rtype: bool


   .. py:method:: move_single_component(component_name: viam.proto.common.ResourceName, destination: viam.proto.common.PoseInFrame, world_state: Optional[viam.proto.common.WorldState] = None, *, extra: Optional[Mapping[str, Any]] = None, timeout: Optional[float] = None) -> bool
      :async:

      This function will pass through a move command to a component with a ``move_to_position`` method that takes a ``Pose``. ``Arm`` is
      the only component that support this. This method will transform the destination pose, given in an arbitrary frame, into the pose of
      the arm. The arm will then move its most distal link to that pose. If you instead wish to move any other component than the arm end
      to that pose, then you must manually adjust the given destination by the transform from the arm end to the intended component.

      :param component_name: Name of a component on a given robot.
      :type component_name: ResourceName
      :param destination: The destination to move to, expressed as a ``Pose`` and the frame in which it was observed.
      :type destination: PoseInFrame
      :param world_state: When supplied, the motion service will create a plan that obeys any contraints expressed in the
                          WorldState message.
      :type world_state: WorldState

      :returns: Whether the move was successful
      :rtype: bool


   .. py:method:: get_pose(component_name: viam.proto.common.ResourceName, destination_frame: str, *, extra: Optional[Mapping[str, Any]] = None, timeout: Optional[float] = None) -> viam.proto.common.PoseInFrame
      :async:

      Get the Pose and observer frame for any given component on a robot.

      :param component_name: Name of a component on a robot.
      :type component_name: ResourceName
      :param destination_frame: Name of the desired reference frame.
      :type destination_frame: str

      :returns: Pose of the given component and the frame in which it was observed.
      :rtype: ``Pose`` (PoseInFrame)



